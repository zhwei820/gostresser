(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6888112c"],{"7d36":function(t,e,n){"use strict";var a=n("be15"),r=n.n(a);r.a},be15:function(t,e,n){},f29a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",[n("Form",{ref:"formDynamic",staticStyle:{width:"850px"},attrs:{model:t.formDynamic,"label-width":100}},[n("FormItem",{attrs:{label:"Name",required:""}},[n("Col",{attrs:{span:"12"}},[n("Input",{attrs:{placeholder:"Enter your name"},model:{value:t.formDynamic.name,callback:function(e){t.$set(t.formDynamic,"name",e)},expression:"formDynamic.name"}})],1)],1),n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[t._v("token strategy")]),n("FormItem",{attrs:{label:"name",prop:"token_strategy.name",required:""}},[n("Col",{attrs:{span:"12"}},[n("Select",{model:{value:t.formDynamic.token_strategy.name,callback:function(e){t.$set(t.formDynamic.token_strategy,"name",e)},expression:"formDynamic.token_strategy.name"}},t._l(t.token_strategy_names,function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e)+"\n                            ")])}),1)],1)],1),t._l(t.formDynamic.token_strategy.settings,function(e,a){return n("FormItem",{key:a,attrs:{label:"settings",prop:"token_strategy.settings."+a+".alg"}},[n("Row",[n("Col",{attrs:{span:"20"}},[n("Col",{attrs:{span:"6"}},[n("Select",{model:{value:e.alg,callback:function(n){t.$set(e,"alg",n)},expression:"item.alg"}},t._l(t.token_strategy_algs,function(e){return n("Option",{key:e,attrs:{value:e}},[t._v("\n                                        "+t._s(e)+"\n                                    ")])}),1)],1),n("Col",{attrs:{span:"2",offset:"1"}},[n("span",{staticStyle:{float:"right","margin-right":"10px"}},[t._v(" key ")])]),n("Col",{attrs:{span:"12"}},[n("Input",{attrs:{type:"text",placeholder:"Enter something..."},model:{value:e.key,callback:function(n){t.$set(e,"key",n)},expression:"item.key"}})],1),n("Col",{attrs:{span:"2",offset:"1"}},[n("Button",{attrs:{type:"warning"},on:{click:function(e){t.handleRemovetokenSettings(a)}}},[t._v("del")])],1)],1)],1)],1)}),n("FormItem",[n("Row",[n("Col",{attrs:{span:"6"}},[n("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAddtokenSettings}},[t._v("Add target\n                            ")])],1)],1)],1)],2),n("Proxy",{attrs:{value:t.formDynamic.oauth_endpoints.authorize,title:"authorize"},on:{"update:value":function(e){t.$set(t.formDynamic.oauth_endpoints,"authorize",e)}}}),n("Proxy",{attrs:{value:t.formDynamic.oauth_endpoints.introspect,title:"introspect"},on:{"update:value":function(e){t.$set(t.formDynamic.oauth_endpoints,"introspect",e)}}}),n("Proxy",{attrs:{value:t.formDynamic.oauth_endpoints.token,title:"token"},on:{"update:value":function(e){t.$set(t.formDynamic.oauth_endpoints,"token",e)}}}),n("FormItem",[n("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formDynamic")}}},[t._v("Submit")])],1)],1)],1)],1)},r=[],s=(n("386d"),n("96cf"),n("3b8d")),o=(n("7f7f"),n("a064")),i=n("30fc"),c=n("f007"),u={name:"AuthDetail",components:{InputForm:i["a"],Proxy:c["a"]},data:function(){return{token_strategy_names:["jwt"],token_strategy_algs:["HS256","HS384","HS512","RS256","RS384","RS512"],copy:"",formDynamic:{name:"",oauth_endpoints:{authorize:{listen_path:"/auth/github/authorize",methods:["ALL"],preserve_host:!1,strip_path:!1,upstreams:{balancing:"roundrobin",targets:[{target:"https://github.com/login/oauth/authorize"}]}},token:{listen_path:"/auth/github/token",methods:["GET","POST"],preserve_host:!1,strip_path:!1,upstreams:{balancing:"roundrobin",targets:[{target:"https://github.com/login/oauth/access_token"}]}},introspect:{listen_path:"/auth/github/introspect",methods:["GET"],preserve_host:!1,strip_path:!1,upstreams:{balancing:"roundrobin",targets:[{target:"https://api.github.com/user"}]}}},cors_meta:{domains:["*"],methods:["GET","POST","PUT","PATCH","DELETE"],request_headers:["Origin","Authorization","Content-Type"],exposed_headers:["X-Debug-Token","X-Debug-Token-Link"],enabled:!0},rate_limit:{limit:"200-S",enabled:!0},token_strategy:{name:"jwt",settings:[{alg:"HS512",key:"dsfdsfdsfsdf"}]}},authData:{}}},computed:{name:function(){if(!this.copy){var t=this.$route.params.name;return"null"===t?null:t}return null}},methods:{handleSubmit:function(t){var e=this;this.$refs[t].validate(function(t){t?(e.$Message.success("Success!"),e.createOrUpdateAuth(e.formDynamic)):e.$Message.error("Fail!")})},handleAddtokenSettings:function(){this.formDynamic.token_strategy.settings.push({target:"",weight:0})},handleRemovetokenSettings:function(t){this.formDynamic.token_strategy.settings.length>1?this.formDynamic.token_strategy.settings.splice(t,1):this.$Message.warning("Can not delete last target!")},createOrUpdateAuth:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.errors={},t.prev=1,this.name){t.next=7;break}return t.next=5,Object(o["a"])(e);case 5:t.next=9;break;case 7:return t.next=9,Object(o["e"])(this.name,e);case 9:this.$router.push({name:"authList"}),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),console.log(t.t0),this.errors=t.t0.data||{};case 16:case"end":return t.stop()}},t,this,[[1,12]])}));function e(e){return t.apply(this,arguments)}return e}(),fetchAuthByName:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["d"])(e);case 2:n=t.sent,this.formDynamic=n,this.formDynamic.plugins||(this.formDynamic.plugins=[]),a=new URLSearchParams(window.location.search),this.copy=a.get("copy"),this.copy&&(this.formDynamic.name="");case 8:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}()},created:function(){this.name&&this.fetchAuthByName(this.name)}},m=u,l=(n("7d36"),n("2877")),h=Object(l["a"])(m,a,r,!1,null,null,null);e["default"]=h.exports}}]);
//# sourceMappingURL=chunk-6888112c.2e3d43bc.js.map