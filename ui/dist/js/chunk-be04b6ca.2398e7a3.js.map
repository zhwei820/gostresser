{"version":3,"sources":["webpack:///./src/apis/service.js","webpack:///./src/views/service/ServiceList.vue?fdae","webpack:///src/views/service/ServiceList.vue","webpack:///./src/views/service/ServiceList.vue?015e","webpack:///./src/views/service/ServiceList.vue","webpack:///./src/views/service/plugins/bodylimit.js","webpack:///./src/views/service/plugins/cb.js","webpack:///./src/views/service/plugins/rate_limit.js","webpack:///./src/views/service/plugins/oauth.js","webpack:///./src/views/service/helper.jsx"],"names":["__webpack_require__","d","__webpack_exports__","fetchService","fetchServiceByName","deleteServiceByName","putService","createService","_request__WEBPACK_IMPORTED_MODULE_0__","params","arguments","length","undefined","request","get","name","concat","delete","payload","put","post","render","_vm","this","_h","$createElement","_c","_self","attrs","id","type","on","click","_v","ref","staticClass","columns","data","tableData","staticRenderFns","pagerInit","page","page_size","total","ServiceListvue_type_script_lang_js_","formData","filterform","pager","Object","objectSpread","computed","helper","methods","edit","row","$router","push","copy","query","remove","_remove","asyncToGenerator","regeneratorRuntime","mark","_callee2","_this","wrap","_context2","prev","next","$Modal","confirm","title","content","width","onOk","_onOk","_callee","_context","service","stop","apply","_x","_fetchService2","_callee3","response","_context3","omit_default","sent","count","mounted","service_ServiceListvue_type_script_lang_js_","component","componentNormalizer","getBodylimit","enabled","config","limit","getBodyLimitForm","key","defaultValue","rule","required","message","trigger","props","placeholder","getCB","timeout","max_concurrent_requests","error_percent_threshold","request_volume_threshold","sleep_window","predicate","getCBForm","getRateLimit","policy","redis","dsn","prefix","getRateLimitForm","options","value","text","getOauth","server_name","getOauthForm","server_names","cols","vm","h","proxy","listen_path","txt","active","color","align","bind","getFormList","obj","body_limit","cb","rate_limit","oauth2","call","getDefaultFormData"],"mappings":"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","file":"js/chunk-be04b6ca.2398e7a3.js","sourcesContent":["import request from './request'\n\nexport const fetchService = (params = {}) => request.get('/apis', { params })\nexport const fetchServiceByName = (name, params = {}) => request.get(`/apis/${name}/`, { params })\nexport const deleteServiceByName = (name, params = {}) => request.delete(`/apis/${name}/`, { params })\nexport const putService = (name, payload) => request.put(`/apis/${name}/`, payload)\n\nexport const createService = (payload = {}) => request.post('/apis/', payload)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Button',{attrs:{\"id\":\"btn\",\"type\":\"primary\"},on:{\"click\":_vm.createService}},[_vm._v(\"NEW\")]),_c('Table',{ref:\"orderTable\",staticClass:\"ordertable\",attrs:{\"columns\":_vm.columns,\"data\":_vm.tableData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Button id=\"btn\" type='primary' @click=\"createService\">NEW</Button>\n\n    <Table class=\"ordertable\" ref=\"orderTable\" :columns=\"columns\" :data=\"tableData\"></Table>\n\n  </div>\n</template>\n\n<script>\n  const pagerInit = {\n    page: 1,\n    page_size: 10,\n    total: 0,\n  }\n\n  import {fetchService, deleteServiceByName} from '@/apis/service'\n  import {cols} from './helper.jsx'\n  import _omit from 'lodash/omit'\n\n  export default {\n    name: \"ServiceList\",\n    data(){\n      return {\n        formData :{},\n        tableData :[],\n        filterform :{},\n        pager :{...pagerInit},\n      }\n    },\n    computed:{\n      columns() {\n        return cols(this)\n      }\n    },\n    methods:{\n      // handlePageSizeChange(pageSize) {\n      //   this.pager.page = this.pager.page_size < pageSize ?\n      //     Math.ceil(this.pager.page * (this.pager.page_size / pageSize)) : this.pager.page\n      //   this.pager.page_size = pageSize\n      //\n      //   this.fetchService()\n      // },\n      //\n      // handlePageChange(page) {\n      //   this.pager.page = page\n      //   this.fetchService()\n      // },\n\n      edit(row) {\n        this.$router.push({name: 'serviceDetail', params: {name: row.name}})\n      },\n\n      copy(row) {\n        this.$router.push({name: 'serviceDetail', params: {name: row.name}, query: {copy:'true'}})\n      },\n\n      createService() {\n        this.$router.push({name: 'serviceDetail', params: {name: 'null'}})\n      },\n\n      async remove(row) {\n\n        this.$Modal.confirm({\n          title: 'confirm',\n          content: 'confirm delete' + row.name + '?',\n          width: 350,\n          onOk: async () => {\n            await deleteServiceByName(row.name, {})\n            this.fetchService()\n          },\n        })\n      },\n\n      async fetchService() {\n        // debugger\n        const response = await fetchService(_omit(this.pager, 'total'))\n        // @ts-ignore\n        this.tableData = response\n        // @ts-ignore\n        this.pager.total = response.count\n      },\n    },\n    mounted() {\n      this.fetchService()\n    }\n\n  }\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ServiceList.vue?vue&type=template&id=7e6f97e6&scoped=true&\"\nimport script from \"./ServiceList.vue?vue&type=script&lang=js&\"\nexport * from \"./ServiceList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7e6f97e6\",\n  null\n  \n)\n\nexport default component.exports","export function getBodylimit() {\n  return           {\n    \"name\": 'body_limit',\n    \"enabled\": true,\n    \"config\": {\n      \"limit\": \"40M\"\n    }\n  }\n}\n\n\nexport function getBodyLimitForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'Limit',\n      key: 'config.limit',\n      defaultValue: formData.config.limit,\n      type: 'input',\n      rule: {required: true, message: '1M, 100K ?', trigger: 'blur'},\n      props: {\n        placeholder: '1M, 100K ?'\n      }\n    },\n  ]\n}\n","export function getCB() {\n  return {\n    \"name\": \"cb\",\n    \"enabled\": true,\n    \"config\": {\n      \"name\": \"\",\n      \"timeout\": 1000,\n      \"max_concurrent_requests\": 100,\n      \"error_percent_threshold\": 50,\n      \"request_volume_threshold\": 20,\n      \"sleep_window\": 5000,\n      \"predicate\": \"statusCode == 0 || statusCode >= 500\"\n    }\n  }\n}\n\n\nexport function getCBForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'name',\n      key: 'config.name',\n      defaultValue: formData.config.name,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'timeout',\n      key: 'config.timeout',\n      defaultValue: formData.config.timeout,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'max_concurrent_requests',\n      key: 'config.max_concurrent_requests',\n      defaultValue: formData.config.max_concurrent_requests,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'error_percent_threshold',\n      key: 'config.error_percent_threshold',\n      defaultValue: formData.config.error_percent_threshold,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'request_volume_threshold',\n      key: 'config.request_volume_threshold',\n      defaultValue: formData.config.request_volume_threshold,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'sleep_window',\n      key: 'config.sleep_window',\n      defaultValue: formData.config.sleep_window,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'predicate',\n      key: 'config.predicate',\n      defaultValue: formData.config.predicate,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n  ]\n}\n","export function getRateLimit() {\n  return {\n    \"name\": \"rate_limit\",\n    \"enabled\": true,\n    \"config\": {\n      \"limit\": \"10-S\",\n      \"policy\": \"local\",\n      'redis': {\n        dsn:'',\n        prefix:'',\n      }\n    }\n  }\n}\n\n\nexport function getRateLimitForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'limit - eg: 5-S, 10-M, 1000-H',\n      key: 'config.limit',\n      defaultValue: formData.config.limit,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'policy',\n      key: 'config.policy',\n      defaultValue: formData.config.policy,\n      type: 'radio',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n      options: [\n        {value: 'local', text: 'local'},\n        {value: 'redis', text: 'redis'},\n      ]\n    },\n\n    {\n      title: 'redis.dsn',\n      key: 'config.redis.dsn',\n      defaultValue: formData.config.redis.dsn,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n\n    {\n      title: 'redis.prefix',\n      key: 'config.redis.prefix',\n      defaultValue: formData.config.redis.prefix,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n\n  ]\n}\n","export function getOauth() {\n  return           {\n    \"name\": 'oauth2',\n    \"enabled\": true,\n    \"config\": {\n      \"server_name\": \"\"\n    }\n  }\n}\n\n\nexport function getOauthForm(formData, server_names) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'server_name',\n      key: 'config.server_name',\n      defaultValue: formData.config.server_name,\n      type: 'select',\n      options: server_names,\n    },\n  ]\n}\n","\n// tslint:disable\nexport function cols(vm) {\n  return [\n    {\n      title: 'Api Name',\n      key: 'name',\n    },\n    {\n      title: 'Listen Path',\n      key: 'listen_path',\n      render: (h, params) => {\n        return (\n          <span>\n            {params.row.proxy.listen_path}\n          </span>)\n      },\n    },\n    {\n      title: 'Active',\n      key: 'active',\n      render: (h, params) => {\n        const txt = '' + params.row.active\n        const color = params.row.active ? 'success' : 'magenta'\n        return (\n          <span>\n            <tag color={color}> {txt}</tag>\n          </span>)\n      },\n    },\n    {\n      title: 'Operations',\n      key: 'action',\n      width: 250,\n      align: 'center',\n      render: (h, params) => {\n        return (\n          <div>\n            <i-button type='primary' onClick={vm.copy.bind(vm, params.row)}>Copy</i-button>\n            <i-button type='primary' onClick={vm.edit.bind(vm, params.row)}>Edit</i-button>\n            <i-button type='error' onClick={vm.remove.bind(vm, params.row)}>Delete</i-button>\n          </div>)\n      },\n    },\n\n  ]\n}\nimport {getBodyLimitForm, getBodylimit} from './plugins/bodylimit'\nimport {getCB, getCBForm} from './plugins/cb'\nimport {getRateLimit, getRateLimitForm} from './plugins/rate_limit'\nimport {getOauth, getOauthForm} from './plugins/oauth'\n\nexport function getFormList(obj, options=null) {\n  return {\n    body_limit : getBodyLimitForm,\n    cb : getCBForm,\n    rate_limit : getRateLimitForm,\n    oauth2 : getOauthForm,\n  }[obj.name].call(null, obj, options)\n}\n\nexport function getDefaultFormData(name, ) {\n\n  return {\n    body_limit : getBodylimit,\n    cb : getCB,\n    rate_limit : getRateLimit,\n    oauth2 : getOauth,\n  }[name].call(null)\n}\n"],"sourceRoot":""}