{"version":3,"sources":["webpack:///./src/apis/service.js","webpack:///./src/views/service/ServiceDetail.vue?ec03","webpack:///./src/views/service/plugins/select.js","webpack:///src/views/service/ServiceDetail.vue","webpack:///./src/views/service/ServiceDetail.vue?7d08","webpack:///./src/views/service/ServiceDetail.vue?d7ac","webpack:///./src/views/service/ServiceDetail.vue?6719","webpack:///./src/views/service/plugins/bodylimit.js","webpack:///./src/views/service/plugins/cb.js","webpack:///./src/views/service/plugins/rate_limit.js","webpack:///./src/views/service/plugins/oauth.js","webpack:///./src/views/service/helper.jsx"],"names":["__webpack_require__","d","__webpack_exports__","fetchService","fetchServiceByName","deleteServiceByName","putService","createService","_request__WEBPACK_IMPORTED_MODULE_0__","params","arguments","length","undefined","request","get","name","concat","delete","payload","put","post","ServiceDetailvue_type_template_id_89901984_render","_vm","this","_h","$createElement","_c","_self","ref","staticStyle","width","attrs","model","formDynamic","label-width","label","prop","required","span","placeholder","value","callback","$$v","$set","expression","size","slot","_v","proxy","title","on","update:value","$event","_l","item","ii","key","id","type","click","showPluginModal","_s","offset","handleRemovePlugin","long","icon","showSelectPluginModal","health_check","float","margin-right","handleSubmit","staticRenderFns","getSelectPluginForm","defaultValue","rule","message","trigger","options","text","ServiceDetailvue_type_script_lang_jsx_","components","InputForm","Proxy","data","pluginName","pluginIndex","copy","OauthList","active","preserve_host","listen_path","upstreams","balancing","targets","target","weight","insecure_skip_verify","strip_path","append_path","methods","hosts","forwarding_timeouts","dial_timeout","response_header_timeout","plugins","url","timeout","serviceData","computed","$route","_this","$refs","validate","valid","$Message","success","createOrUpdateService","error","_createOrUpdateService","Object","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","errors","service","$router","push","t0","console","log","stop","_x","apply","_fetchServiceByName2","_callee2","response","urlParams","response2","_this2","_context2","sent","URLSearchParams","window","location","search","auths","forEach","val","_x2","_this3","h","formList","helper","$Modal","confirm","onOk","_onOk","_callee3","_context3","onCancel","render","showSubmit","change","handleFormDataChange","_this4","_onOk2","_callee4","_context4","handleSelectPluginChange","newVal","splice","created","service_ServiceDetailvue_type_script_lang_jsx_","component","componentNormalizer","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ServiceDetail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ServiceDetail_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","getBodylimit","enabled","config","limit","getBodyLimitForm","formData","props","getCB","max_concurrent_requests","error_percent_threshold","request_volume_threshold","sleep_window","predicate","getCBForm","getRateLimit","policy","redis","dsn","prefix","getRateLimitForm","getOauth","server_name","getOauthForm","server_names","cols","vm","row","txt","color","align","bind","edit","remove","getFormList","obj","body_limit","cb","rate_limit","oauth2","call","getDefaultFormData"],"mappings":"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","file":"js/chunk-63582a24.2d8f086e.js","sourcesContent":["import request from './request'\n\nexport const fetchService = (params = {}) => request.get('/apis', { params })\nexport const fetchServiceByName = (name, params = {}) => request.get(`/apis/${name}/`, { params })\nexport const deleteServiceByName = (name, params = {}) => request.delete(`/apis/${name}/`, { params })\nexport const putService = (name, payload) => request.put(`/apis/${name}/`, payload)\n\nexport const createService = (payload = {}) => request.post('/apis/', payload)\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Card',[_c('Form',{ref:\"formDynamic\",staticStyle:{\"width\":\"850px\"},attrs:{\"model\":_vm.formDynamic,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"Name\",\"prop\":\"name\",\"required\":\"\"}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Input',{attrs:{\"placeholder\":\"Enter your name\"},model:{value:(_vm.formDynamic.name),callback:function ($$v) {_vm.$set(_vm.formDynamic, \"name\", $$v)},expression:\"formDynamic.name\"}})],1)],1),_c('FormItem',{attrs:{\"label\":\"Active\",\"prop\":\"active\"}},[_c('i-switch',{attrs:{\"size\":\"large\"},model:{value:(_vm.formDynamic.active),callback:function ($$v) {_vm.$set(_vm.formDynamic, \"active\", $$v)},expression:\"formDynamic.active\"}},[_c('span',{attrs:{\"slot\":\"open\"},slot:\"open\"},[_vm._v(\"ON\")]),_c('span',{attrs:{\"slot\":\"close\"},slot:\"close\"},[_vm._v(\"OFF\")])])],1),_c('Proxy',{attrs:{\"value\":_vm.formDynamic.proxy,\"title\":'Proxy'},on:{\"update:value\":function($event){_vm.$set(_vm.formDynamic, \"proxy\", $event)}}}),_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"Plugins\")]),_vm._l((_vm.formDynamic.plugins),function(item,ii){return _c('FormItem',{key:ii,attrs:{\"label\":\"Plugin\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"10\"}},[_c('Button',{attrs:{\"id\":\"btn\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.showPluginModal(ii)}}},[_vm._v(\"\\n                \"+_vm._s(item.name)+\"\\n              \")])],1),_c('Col',{attrs:{\"span\":\"2\",\"offset\":\"1\"}},[_c('Button',{attrs:{\"type\":\"warning\"},on:{\"click\":function($event){_vm.handleRemovePlugin(ii)}}},[_vm._v(\"del\")])],1)],1)],1)}),_c('FormItem',[_c('Row',[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Button',{attrs:{\"type\":\"dashed\",\"long\":\"\",\"icon\":\"md-add\"},on:{\"click\":_vm.showSelectPluginModal}},[_vm._v(\"Add Plugin\")])],1)],1)],1)],2),_c('FormItem',{attrs:{\"label\":\"health_check\",\"prop\":\"health_check\",\"required\":\"\"}},[_c('Col',{attrs:{\"span\":\"12\"}},[_c('Input',{attrs:{\"placeholder\":\"health_check url\"},model:{value:(_vm.formDynamic.health_check.url),callback:function ($$v) {_vm.$set(_vm.formDynamic.health_check, \"url\", $$v)},expression:\"formDynamic.health_check.url\"}})],1),_c('Col',{attrs:{\"span\":\"2\",\"offset\":\"1\"}},[_c('span',{staticStyle:{\"float\":\"right\",\"margin-right\":\"10px\"}},[_vm._v(\" timeout \")])]),_c('Col',{attrs:{\"span\":\"2\"}},[_c('Input',{attrs:{\"type\":\"text\",\"placeholder\":\"timeout\"},model:{value:(_vm.formDynamic.health_check.timeout),callback:function ($$v) {_vm.$set(_vm.formDynamic.health_check, \"timeout\", $$v)},expression:\"formDynamic.health_check.timeout\"}})],1)],1),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.handleSubmit('formDynamic')}}},[_vm._v(\"Submit\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function getSelectPluginForm(defaultValue) {\n  return [\n    {\n      title: 'Plugin Name',\n      key: 'pluginName',\n      defaultValue: defaultValue,\n      type: 'radio',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n      options: [\n        {value: 'body_limit', text: 'Body Limit'},\n        {value: 'cb', text: 'Circuit Breaker'},\n        {value: 'rate_limit', text: 'Rate Limiting'},\n        {value: 'oauth2', text: 'oauth2'},\n      ]\n    },\n  ]\n}\n","<template>\n  <div>\n    <Card>\n      <Form ref=\"formDynamic\" :model=\"formDynamic\" :label-width=\"100\" style=\"width: 850px\">\n\n        <FormItem label=\"Name\" prop=\"name\" required>\n          <Col span=\"12\">\n            <Input v-model=\"formDynamic.name\" placeholder=\"Enter your name\"></Input>\n          </Col>\n        </FormItem>\n\n        <FormItem label=\"Active\" prop=\"active\">\n\n          <i-switch size=\"large\" v-model=\"formDynamic.active\">\n            <span slot=\"open\">ON</span>\n            <span slot=\"close\">OFF</span>\n          </i-switch>\n        </FormItem>\n\n\n        <Proxy :value.sync=\"formDynamic.proxy\" :title=\"'Proxy'\"/>\n\n        <Card>\n          <p slot=\"title\">Plugins</p>\n\n          <FormItem label=\"Plugin\"\n                    v-for=\"(item, ii) in formDynamic.plugins\"\n                    :key=\"ii\">\n            <Row>\n              <Col span=\"10\">\n                <Button id=\"btn\" type='primary'\n                        @click=\"showPluginModal(ii)\">\n                  {{ item.name }}\n                </Button>\n\n              </Col>\n              <Col span=\"2\" offset=\"1\">\n                <Button type=\"warning\" @click=\"handleRemovePlugin(ii)\">del</Button>\n              </Col>\n            </Row>\n          </FormItem>\n          <FormItem>\n            <Row>\n              <Col span=\"6\">\n                <Button type=\"dashed\" long @click=\"showSelectPluginModal\" icon=\"md-add\">Add Plugin</Button>\n              </Col>\n            </Row>\n          </FormItem>\n        </Card>\n\n\n        <FormItem label=\"health_check\" prop=\"health_check\" required>\n          <Col span=\"12\">\n            <Input v-model=\"formDynamic.health_check.url\" placeholder=\"health_check url\"></Input>\n          </Col>\n          <Col span=\"2\" offset=\"1\">\n            <span style=\"float: right; margin-right: 10px\"> timeout </span>\n          </Col>\n          <Col span=\"2\">\n            <Input type=\"text\" v-model=\"formDynamic.health_check.timeout\" placeholder=\"timeout\"></Input>\n          </Col>\n        </FormItem>\n\n\n        <FormItem>\n          <Button type=\"primary\" @click=\"handleSubmit('formDynamic')\">Submit</Button>\n        </FormItem>\n      </Form>\n    </Card>\n  </div>\n</template>\n<script lang=\"jsx\">\n\n  import {createService, putService, fetchServiceByName} from '@/apis/service'\n  import InputForm from '@/components/InputForm'\n  import Proxy from '@/components/Proxy'\n  import {getDefaultFormData, getFormList} from './helper.jsx'\n  import {getSelectPluginForm} from './plugins/select'\n  import {fetchAuth} from '@/apis/auths'\n\n  export default {\n    name: \"ServiceDetail\",\n    components: {\n      // eslint-disable-next-line vue/no-unused-components\n      InputForm: InputForm,\n      Proxy: Proxy,\n    },\n    data() {\n      return {\n        pluginName: 'body_limit',\n        pluginIndex: -1,\n\n        copy: '',\n        OauthList: [],\n        formDynamic: {\n          \"name\": \"\",\n          \"active\": true,\n          \"proxy\": {\n            \"preserve_host\": false,\n            \"listen_path\": \"\",\n            \"upstreams\": {\n              \"balancing\": \"roundrobin\",\n              \"targets\": [{\n                \"target\": \"\",\n                \"weight\": 0\n              }]\n            },\n            \"insecure_skip_verify\": false,\n            \"strip_path\": false,\n            \"append_path\": false,\n            \"methods\": [\"GET\"],\n            \"hosts\": null,\n            \"forwarding_timeouts\": {\n              \"dial_timeout\": \"0s\",\n              \"response_header_timeout\": \"0s\"\n            }\n          },\n          \"plugins\": [],\n          \"health_check\": {\n            \"url\": \"\",\n            \"timeout\": 3\n          }\n        },\n        serviceData: {},\n      }\n    },\n    computed: {\n      name() {\n        if (!this.copy) {\n          const name = this.$route.params.name\n          return name === 'null' ? null : name\n        }\n        return null\n      }\n    },\n    methods: {\n\n      handleSubmit(name) {\n        this.$refs[name].validate((valid) => {\n          if (valid) {\n            this.$Message.success('Success!');\n            this.createOrUpdateService(this.formDynamic)\n          } else {\n            this.$Message.error('Fail!');\n          }\n        })\n      },\n\n\n      async createOrUpdateService(data) {\n        this.errors = {}  //\n                          // https://github.com/iview/iview/blob/master/src/components/form/form-item.vue#L81\n        try {\n          if (!this.name) {\n            await createService(data)\n          } else {\n            await putService(this.name, data)\n          }\n          this.$router.push({name: 'serviceList'})\n        } catch (e) {\n          console.log(e)\n          this.errors = e.data || {}\n        }\n      },\n\n      async fetchServiceByName(name) {\n        const response = await fetchServiceByName(name)\n        // @ts-ignore\n        this.formDynamic = response\n        // this.$set(this.formDynamic, response)\n        // console.log(this.formDynamic)\n        if (!this.formDynamic.plugins) {\n          this.formDynamic.plugins = []\n        }\n        const urlParams = new URLSearchParams(window.location.search);\n        this.copy = urlParams.get('copy');\n        if (this.copy) {\n          this.formDynamic.name = ''\n        }\n\n        const response2 = await fetchAuth(name)\n        this.OauthList = []\n        response2.forEach((val) => {\n          this.OauthList.push(\n            {value: val.name, text: val.name},\n          )\n        })\n\n      },\n\n      showPluginModal(ii) {\n        this.pluginIndex = ii\n        console.log(this.formDynamic.plugins)\n        console.log(ii)\n        this.formList = getFormList(this.formDynamic.plugins[ii], this.OauthList)\n        this.$Modal.confirm({\n          title: 'Edit Plugin',\n          width: 600,\n          // maskClosable: true,  这个参数现在还不支持...\n          // closable: true,  这个参数有bug...\n          onOk: async () => {\n          },\n          onCancel: () => {\n            // this.$Message.error()\n          },\n          render: () => {\n            return (\n              <InputForm showSubmit={false} onChange={this.handleFormDataChange} formList={this.formList}\n                         errors={{}}></InputForm>\n            )\n          },\n        })\n      },\n      showSelectPluginModal() {\n        this.formList = getSelectPluginForm(this.pluginName)\n        this.$Modal.confirm({\n          title: 'Select Plugin',\n          width: 600,\n          // maskClosable: true,  这个参数现在还不支持...\n          // closable: true,  这个参数有bug...\n          onOk: async () => {\n            this.formDynamic.plugins.push(getDefaultFormData(this.pluginName))\n            // this.showPluginModal(this.formDynamic.plugins.length - 1)\n          },\n          onCancel: () => {\n            // this.$Message.error()\n          },\n          render: () => {\n            return (\n              <InputForm showSubmit={false} onChange={this.handleSelectPluginChange} formList={this.formList}\n                         errors={{}}></InputForm>\n            )\n          },\n        })\n      },\n      handleSelectPluginChange(newVal) {\n        this.pluginName = newVal.pluginName\n      },\n      handleFormDataChange(newVal) {\n        this.formDynamic.plugins[this.pluginIndex] = newVal\n      },\n      handleRemovePlugin(ii) {\n        this.formDynamic.plugins.splice(ii, 1)\n      },\n\n    },\n    created() {\n      if (this.name) {\n        this.fetchServiceByName(this.name)\n      }\n    }\n  }\n\n</script>\n\n<style>\n  .ivu-card .ivu-card-bordered {\n    margin-bottom: 15px;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceDetail.vue?vue&type=script&lang=jsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceDetail.vue?vue&type=script&lang=jsx&\"","import { render, staticRenderFns } from \"./ServiceDetail.vue?vue&type=template&id=89901984&\"\nimport script from \"./ServiceDetail.vue?vue&type=script&lang=jsx&\"\nexport * from \"./ServiceDetail.vue?vue&type=script&lang=jsx&\"\nimport style0 from \"./ServiceDetail.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceDetail.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ServiceDetail.vue?vue&type=style&index=0&lang=css&\"","export function getBodylimit() {\n  return           {\n    \"name\": 'body_limit',\n    \"enabled\": true,\n    \"config\": {\n      \"limit\": \"40M\"\n    }\n  }\n}\n\n\nexport function getBodyLimitForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'Limit',\n      key: 'config.limit',\n      defaultValue: formData.config.limit,\n      type: 'input',\n      rule: {required: true, message: '1M, 100K ?', trigger: 'blur'},\n      props: {\n        placeholder: '1M, 100K ?'\n      }\n    },\n  ]\n}\n","export function getCB() {\n  return {\n    \"name\": \"cb\",\n    \"enabled\": true,\n    \"config\": {\n      \"name\": \"\",\n      \"timeout\": 1000,\n      \"max_concurrent_requests\": 100,\n      \"error_percent_threshold\": 50,\n      \"request_volume_threshold\": 20,\n      \"sleep_window\": 5000,\n      \"predicate\": \"statusCode == 0 || statusCode >= 500\"\n    }\n  }\n}\n\n\nexport function getCBForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'name',\n      key: 'config.name',\n      defaultValue: formData.config.name,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'timeout',\n      key: 'config.timeout',\n      defaultValue: formData.config.timeout,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'max_concurrent_requests',\n      key: 'config.max_concurrent_requests',\n      defaultValue: formData.config.max_concurrent_requests,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'error_percent_threshold',\n      key: 'config.error_percent_threshold',\n      defaultValue: formData.config.error_percent_threshold,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'request_volume_threshold',\n      key: 'config.request_volume_threshold',\n      defaultValue: formData.config.request_volume_threshold,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'sleep_window',\n      key: 'config.sleep_window',\n      defaultValue: formData.config.sleep_window,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'predicate',\n      key: 'config.predicate',\n      defaultValue: formData.config.predicate,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n  ]\n}\n","export function getRateLimit() {\n  return {\n    \"name\": \"rate_limit\",\n    \"enabled\": true,\n    \"config\": {\n      \"limit\": \"10-S\",\n      \"policy\": \"local\",\n      'redis': {\n        dsn:'',\n        prefix:'',\n      }\n    }\n  }\n}\n\n\nexport function getRateLimitForm(formData) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'limit - eg: 5-S, 10-M, 1000-H',\n      key: 'config.limit',\n      defaultValue: formData.config.limit,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n    {\n      title: 'policy',\n      key: 'config.policy',\n      defaultValue: formData.config.policy,\n      type: 'radio',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n      options: [\n        {value: 'local', text: 'local'},\n        {value: 'redis', text: 'redis'},\n      ]\n    },\n\n    {\n      title: 'redis.dsn',\n      key: 'config.redis.dsn',\n      defaultValue: formData.config.redis.dsn,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n\n    {\n      title: 'redis.prefix',\n      key: 'config.redis.prefix',\n      defaultValue: formData.config.redis.prefix,\n      type: 'input',\n      rule: {required: true, message: '', trigger: 'blur'},\n      props: {\n        placeholder: ''\n      }\n    },\n\n  ]\n}\n","export function getOauth() {\n  return           {\n    \"name\": 'oauth2',\n    \"enabled\": true,\n    \"config\": {\n      \"server_name\": \"\"\n    }\n  }\n}\n\n\nexport function getOauthForm(formData, server_names) {\n  return [\n    {\n      title: 'Name',\n      key: 'name',\n      defaultValue: formData['name'],\n      type: 'html',\n      rule: {required: true, message: 'Name?', trigger: 'blur'},\n    },\n    {\n      title: 'Enabled',\n      key: 'enabled',\n      defaultValue: formData['enabled'],\n      type: 'switch',\n      rule: {required: true, message: 'Enabled?', trigger: 'blur'},\n      props: {\n        placeholder: 'Enabled?'\n      }\n    },\n    {\n      title: 'server_name',\n      key: 'config.server_name',\n      defaultValue: formData.config.server_name,\n      type: 'select',\n      options: server_names,\n    },\n  ]\n}\n","\n// tslint:disable\nexport function cols(vm) {\n  return [\n    {\n      title: 'Api Name',\n      key: 'name',\n    },\n    {\n      title: 'Listen Path',\n      key: 'listen_path',\n      render: (h, params) => {\n        return (\n          <span>\n            {params.row.proxy.listen_path}\n          </span>)\n      },\n    },\n    {\n      title: 'Active',\n      key: 'active',\n      render: (h, params) => {\n        const txt = '' + params.row.active\n        const color = params.row.active ? 'success' : 'magenta'\n        return (\n          <span>\n            <tag color={color}> {txt}</tag>\n          </span>)\n      },\n    },\n    {\n      title: 'Operations',\n      key: 'action',\n      width: 250,\n      align: 'center',\n      render: (h, params) => {\n        return (\n          <div>\n            <i-button type='primary' onClick={vm.copy.bind(vm, params.row)}>Copy</i-button>\n            <i-button type='primary' onClick={vm.edit.bind(vm, params.row)}>Edit</i-button>\n            <i-button type='error' onClick={vm.remove.bind(vm, params.row)}>Delete</i-button>\n          </div>)\n      },\n    },\n\n  ]\n}\nimport {getBodyLimitForm, getBodylimit} from './plugins/bodylimit'\nimport {getCB, getCBForm} from './plugins/cb'\nimport {getRateLimit, getRateLimitForm} from './plugins/rate_limit'\nimport {getOauth, getOauthForm} from './plugins/oauth'\n\nexport function getFormList(obj, options=null) {\n  return {\n    body_limit : getBodyLimitForm,\n    cb : getCBForm,\n    rate_limit : getRateLimitForm,\n    oauth2 : getOauthForm,\n  }[obj.name].call(null, obj, options)\n}\n\nexport function getDefaultFormData(name, ) {\n\n  return {\n    body_limit : getBodylimit,\n    cb : getCB,\n    rate_limit : getRateLimit,\n    oauth2 : getOauth,\n  }[name].call(null)\n}\n"],"sourceRoot":""}